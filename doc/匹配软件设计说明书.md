# 匹配软件设计说明书

[TOC]

## 前言

软件编写需要认真考虑一些结构和配置参数以便更好的设计合理的软件架构和敏捷开发

## 引言

### 编写目的

1. 重新理清软件的需求

2. 确定初版程序能实现的基本功能

3. 根据软件需求定义每个模块需要实现的功能

4. 确定数据存储格式和配置格式

5. 梳理软件运行流程

###  项目背景

公司对匹配文档的审查以及匹配流程的标准，报告的一致性

### 参考资料

[1] AVL-DRIVE Function Description (DCT).pdf

## 总体设计

### 需求概述

主要功能：

1. 数据采集和回放

2. 根据采集的数据根据配置进行评分计算

3. 评分结果生成pdf文档

其他功能：

1. 匹配结果汇总

### 软件结构

- 底层
  - 底层通信层
  - CAN底层
    - Can
    - Config
  - 配置读写
    - 曲线配置
      - Curve
      - Cell
    - 工况配置
      - 所有工况和标准（配置模板）
        - modes.json
      - 用户配置的工况
        - ...
  - 数据采集和处理
    - 采集
      - Collect
    - 报文转换为数据
      - Sublime
    - 数据存储
      - Keep
    - 缓冲区
      - 采集和转换
        - Buffer
        - Cell
      - 转换和存储
        - Kebab
  - 数据处理
    - 读取数据（读取对评价有用的数据）
      - Abstract
    - 预处理：平滑、滤波、方差、均值
      - Refine
    - 计算评价需要的参数
      - Criteria
    - 评价函数
      - Modes
  - 评价结果
    - 评价结果再现
    - 评价结果导出
    - 便于收集（数据库）
  - 线程调度
    - 
- 界面
  - 界面通信层
  - 初始化配置
  - GUI界面
    - 主界面
      - 菜单
      - 工具栏
      - 左边页面
      - 中间绘图
      - 右边曲线列表
      - 状态栏
      - 下面信息窗口
    - 对话框
      - 读取曲线配置
      - 配置曲线
      - 读取工况配置
      - 配置工况
      - ...

- 调试日志
- 主函数
  - 初始化配置

## 模块

